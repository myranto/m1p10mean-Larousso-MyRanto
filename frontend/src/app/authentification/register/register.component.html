<div style="display: flex; justify-content: center; align-items: center; height: 100vh;">
  <p-card [style]="{width:'500px', height: '100%'}">
  <mat-card-content style="width: 100%; height: 100%;">
    <form #registerForm="ngForm" (ngSubmit)="handleSubmit()">
      <div class="flex justify-content-center">
        <h2>Inscription</h2>
        <p-message *ngIf="registerValid!=null" severity="error" text="{{registerValid}}"></p-message>
        <p-message *ngIf="error_log" severity="error" text="{{error_log}}"></p-message>
        <p-inputGroup>
          <p-inputGroupAddon>
            <i class="pi pi-user"></i>
          </p-inputGroupAddon>
          <input [(ngModel)]="person.name" aria-describedby="name-help" id="name" name="name" pInputText
                 placeholder="Nom" required/>
        </p-inputGroup>
        <br>
        <p-inputGroup>
          <p-inputGroupAddon>
            <i class="pi pi-envelope"></i>
          </p-inputGroupAddon>
          <input [(ngModel)]="person.mail" aria-describedby="mail-help" id="mail" name="mail" pInputText
                 placeholder="Email" required
                 type="email"/>
        </p-inputGroup>
        <br>

        <!-- champ pour l'employé -->
        <div *ngIf="role === 'employe'">
          <br>
          <span style="float: left;text-align: left; margin-top: -17px; max-height: 3px">Horaires de travail:</span><br>
          <div style="display: flex; align-items: center;">
            <div class="p-field" style="width: 40%; height: 2%;">
              <input [(ngModel)]="person.start_time" pInputText name="start_time" type="time"/>
            </div>
            <span style="width: 20%; text-align: center;"> à </span>
            <div class="p-field" style="width: 40%;  height: 40%;">
              <input [(ngModel)]="person.end_time" pInputText name="end_time" placeholder="Heure de fin" type="time">
            </div>
          </div>
          <br>
        </div>


        <!-- champ pour le client -->
        <div *ngIf="role === 'customer'">
          <br>
          <div style="display: flex; justify-content: space-between;">
            <p-dropdown
              [(ngModel)]="person.prefered_service"
              [options]="service_list" id="float"
              optionLabel="name"
              [ngModelOptions]="{standalone: true}"
              optionValue="_id"
              placeholder="service préféré"></p-dropdown>
          <!-- Employé préféré -->
            <p-dropdown
              [(ngModel)]="person.prefered_emp"
              [options]="employe" id="float-label"
              optionLabel="name"
              [ngModelOptions]="{standalone: true}"
              optionValue="_id"
              placeholder="employé préféré"></p-dropdown>
          </div>
          <br>
          <br>
        </div>
        <p-inputGroup>
          <p-inputGroupAddon>
            <i class="pi pi-lock"></i>
          </p-inputGroupAddon>
          <input [(ngModel)]="person.password" name="password" pInputText placeholder="mot de passe" required
                 type="password">
        </p-inputGroup>
        <br>
        <p-inputGroup>
          <p-inputGroupAddon>
            <i class="pi pi-lock"></i>
          </p-inputGroupAddon>
          <input [(ngModel)]="confirmPassword" name="confirmPassword" pInputText placeholder="Retaper mot de passe"
                 required type="password">
        </p-inputGroup>
        <p *ngIf="password_message!=null" style="color: crimson">
          <br>
          {{password_message}}
        </p>
        <br>
        <ng-container *ngIf="role==='customer'">
          <p-button (click)="goBack()" severity="secondary">Retour</p-button>
          {{'   '}}</ng-container>
        <p-button [disabled]="!registerForm.form.valid" [style]="{float:'right'}" (onClick)="handleSubmit()" color="primary" label="S'inscrire"></p-button>
        <br>
      </div>
    </form>
  </mat-card-content>
</p-card>
</div>
